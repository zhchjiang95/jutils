!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).jutils={})}(this,(function(e){"use strict";e.adaptiveScaling=function(e,t,o){var n=o[0];o[1];var c=e.clientWidth/n;t.style.transformOrigin="left top",t.style.transform="scale(".concat(c,")")},e.boxAnchor=function(e,t){var o,n=document.querySelector(e.source),c=document.querySelector(e.target),l=Array.from((null==c?void 0:c.children)||[]).filter((function(e){return"jt"===e.dataset.jtType})),r=null;n.onclick=function(t){var o="#"+(/^[.|#]/.test(e.source)?this.dataset.jtId:t.target.dataset.jtId),n=document.querySelector(o);if(n){var l=e.diff?e.diff:0,r=e.speed?e.speed:10,i=parseFloat(getComputedStyle(n).height),s=c.scrollTop>=n.offsetTop-i-l;return function e(){s?c.scrollTop>n.offsetTop-i-l&&0!==c.scrollTop&&(c.scrollTo(0,c.scrollTop-r),requestAnimationFrame(e)):n.offsetTop-i-l-c.scrollTop>r&&c.scrollTop+c.offsetHeight<c.scrollHeight-r&&(c.scrollTo(0,c.scrollTop+r),requestAnimationFrame(e))}(),!1}},"function"==typeof t&&c.addEventListener("scroll",(function(){l.map((function(e){e!==o&&(o=e,e.distance=Math.abs(e.offsetTop-c.scrollTop))}));var e=l.sort((function(e,t){return e.distance-t.distance}));r&&r[0].id===e[0].id||(r=e.slice(),t({el:e[0],jtId:e[0].id}))}))},e.formatDate=function(e){var t=(null==e?void 0:e.sep)||"-",o=(null==e?void 0:e.showHours)||!1,n=(null==e?void 0:e.millisecond)?new Date(Number(e.millisecond)):new Date,c=n.getFullYear(),l=n.getMonth()+1,r=n.getDate(),i=n.getHours(),s=n.getMinutes(),u=n.getSeconds();return l=l>=10?l:"0"+l,r=r>=10?r:"0"+r,i=i>=10?i:"0"+i,s=s>=10?s:"0"+s,u=u>=10?u:"0"+u,o?"".concat(c+t+l+t+r," ").concat(i,":").concat(s,":").concat(u):"".concat(c+t+l+t+r)},e.infiniteScroll=function(e,t){var o=document.querySelector(e.el),n=e.delay||100,c=e.distance||10,l=!0;return o.onscroll=function(){if(l){var e=parseFloat(getComputedStyle(o).height),r=o.scrollHeight,i=o.scrollTop;l=!1,setTimeout((function(){l=!0}),n),r-i-e<c&&t()}},function(){o.onscroll=null}},e.matchString=function(e,t){var o=t;e.includes(o)||(o=o.toUpperCase());var n=e.split(o),c=n.length-1,l=[];return n.includes("")?n.every((function(e){return""===e}))?l=2===n.length?[""]:n.slice(1):n.length>1?n.forEach((function(e,t){e?t===c?l.push(e):l.push(e,void 0):t!==c&&l.push(void 0)})):l=n:n.forEach((function(e,t){t===c?l.push(e):l.push(e,void 0)})),{string:e,matchString:t,result:l}},e.pageAnchor=function(e){var t=(null==e?void 0:e.anchor)||0,o=(null==e?void 0:e.speed)||10,n=void 0===(null==e?void 0:e.down)||Boolean(e.down);!function e(){if(n){if(scrollY<t){var c=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.clientHeight||document.body.clientHeight,r=document.documentElement.scrollHeight||document.body.scrollHeight;r>l&&c+l<r&&(scrollTo(0,scrollY+o),requestAnimationFrame(e))}}else scrollY>t&&(scrollTo(0,scrollY-o),requestAnimationFrame(e))}()},e.slideDirection=function(e,t,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1);var c=0,l=0,r=0,i=0,s=0,u=0,a="string"==typeof e?document.querySelector("".concat(e)):e;if(null===a)throw new Error("".concat(e,"无法查找到元素"));null===a.ontouchstart?(a.ontouchstart=function(e){r=i=s=u=0,c=e.changedTouches[0].clientX,l=e.changedTouches[0].clientY},o&&(a.ontouchmove=function(e){s=e.changedTouches[0].clientX,u=e.changedTouches[0].clientY,t(n?{startX:c,startY:l,endX:r,endY:i}:{},{realX:s,realY:u})}),a.ontouchend=function(e){r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,t({startX:c,startY:l,endX:r,endY:i},{realX:s,realY:u})}):(a.onmousedown=function(e){r=i=s=u=0,c=e.clientX,l=e.clientY,o&&(a.onmousemove=function(e){s=e.clientX,u=e.clientY,t(n?{startX:c,startY:l,endX:r,endY:i}:{},{realX:s,realY:u})})},document.onmouseup=function(e){null!==a.onmousemove&&(r=e.clientX,i=e.clientY,a.onmousemove=null,t({startX:c,startY:l,endX:r,endY:i},{realX:s,realY:u}))})}}));
//# sourceMappingURL=index.js.map
