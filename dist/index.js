!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).utilibs={})}(this,(function(e){"use strict";e.adaptiveScaling=function(e,t,o){var n=o[0];o[1];var l=e.clientWidth/n;t.style.transformOrigin="left top",t.style.transform="scale(".concat(l,")")},e.boxAnchor=function(e,t){var o,n=document.querySelector(e.source),l=document.querySelector(e.target),c=Array.from((null==l?void 0:l.children)||[]).filter((function(e){return"jt"===e.dataset.jtType})),r=null;n.onclick=function(t){var o="#"+(/^[.|#]/.test(e.source)?this.dataset.jtId:t.target.dataset.jtId),n=document.querySelector(o);if(n){var c=e.diff?e.diff:0,r=e.speed?e.speed:10,i=parseFloat(getComputedStyle(n).height),s=l.scrollTop>=n.offsetTop-i-c;return function e(){s?l.scrollTop>n.offsetTop-i-c&&0!==l.scrollTop&&(l.scrollTo(0,l.scrollTop-r),requestAnimationFrame(e)):n.offsetTop-i-c-l.scrollTop>r&&l.scrollTop+l.offsetHeight<l.scrollHeight-r&&(l.scrollTo(0,l.scrollTop+r),requestAnimationFrame(e))}(),!1}},"function"==typeof t&&l.addEventListener("scroll",(function(){c.map((function(e){e!==o&&(o=e,e.distance=Math.abs(e.offsetTop-l.scrollTop))}));var e=c.sort((function(e,t){return e.distance-t.distance}));r&&r[0].id===e[0].id||(r=e.slice(),t({el:e[0],jtId:e[0].id}))}))},e.formatDate=function(e){var t=(null==e?void 0:e.sep)||"-",o=(null==e?void 0:e.showHours)||!1,n=(null==e?void 0:e.millisecond)?new Date(Number(e.millisecond)):new Date,l=n.getFullYear(),c=n.getMonth()+1,r=n.getDate(),i=n.getHours(),s=n.getMinutes(),u=n.getSeconds();return c=c>=10?c:"0"+c,r=r>=10?r:"0"+r,i=i>=10?i:"0"+i,s=s>=10?s:"0"+s,u=u>=10?u:"0"+u,o?"".concat(l+t+c+t+r," ").concat(i,":").concat(s,":").concat(u):"".concat(l+t+c+t+r)},e.infiniteScroll=function(e,t){var o=document.querySelector(e.el),n=e.delay||100,l=e.distance||10,c=!0;return o.onscroll=function(){if(c){var e=parseFloat(getComputedStyle(o).height),r=o.scrollHeight,i=o.scrollTop;c=!1,setTimeout((function(){c=!0}),n),r-i-e<l&&t()}},function(){o.onscroll=null}},e.pageAnchor=function(e){var t=(null==e?void 0:e.anchor)||0,o=(null==e?void 0:e.speed)||10,n=void 0===(null==e?void 0:e.down)||Boolean(e.down);!function e(){if(n){if(scrollY<t){var l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.clientHeight||document.body.clientHeight,r=document.documentElement.scrollHeight||document.body.scrollHeight;r>c&&l+c<r&&(scrollTo(0,scrollY+o),requestAnimationFrame(e))}}else scrollY>t&&(scrollTo(0,scrollY-o),requestAnimationFrame(e))}()},e.slideDirection=function(e,t,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1);var l=0,c=0,r=0,i=0,s=0,u=0,a="string"==typeof e?document.querySelector("".concat(e)):e;if(null===a)throw new Error("".concat(e,"无法查找到元素"));null===a.ontouchstart?(a.ontouchstart=function(e){r=i=s=u=0,l=e.changedTouches[0].clientX,c=e.changedTouches[0].clientY},o&&(a.ontouchmove=function(e){s=e.changedTouches[0].clientX,u=e.changedTouches[0].clientY,t(n?{startX:l,startY:c,endX:r,endY:i}:{},{realX:s,realY:u})}),a.ontouchend=function(e){r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,t({startX:l,startY:c,endX:r,endY:i},{realX:s,realY:u})}):(a.onmousedown=function(e){r=i=s=u=0,l=e.clientX,c=e.clientY,o&&(a.onmousemove=function(e){s=e.clientX,u=e.clientY,t(n?{startX:l,startY:c,endX:r,endY:i}:{},{realX:s,realY:u})})},document.onmouseup=function(e){null!==a.onmousemove&&(r=e.clientX,i=e.clientY,a.onmousemove=null,t({startX:l,startY:c,endX:r,endY:i},{realX:s,realY:u}))})}}));
//# sourceMappingURL=index.js.map
