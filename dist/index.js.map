{"version":3,"file":"index.js","sources":["../src/formatDate.ts","../src/slideDirection.ts","../src/boxAnchor.ts","../src/pageAnchor.ts","../src/infiniteScroll.ts","../src/adaptiveScaling.ts"],"sourcesContent":["/**\n * 格式化当前或自定义时间日期，自定义年月日分隔符和时分秒显示\n * @param opts sep: 年月日分隔符; millisecond: 自定义时间（毫秒）或Date(); showHours: 是否显示时分秒。默认：false\n * @returns string\n * @example\n * ```js\n * formatTime({sep: '-', millisecond: Date.now() + 20, showHours: true}) // 2020-08-24 15:06:32\n * ```\n */\nconst formatDate = (opts?: {\n  sep?: string;\n  millisecond?: string | number;\n  showHours?: boolean;\n}) => {\n  const separator = opts?.sep || \"-\";\n  const hasHours = opts?.showHours || false;\n  let dateTimer = opts?.millisecond\n    ? new Date(Number(opts.millisecond))\n    : new Date();\n  let Y: number | string = dateTimer.getFullYear();\n  let M: number | string = dateTimer.getMonth() + 1;\n  let D: number | string = dateTimer.getDate();\n  let h: number | string = dateTimer.getHours();\n  let m: number | string = dateTimer.getMinutes();\n  let s: number | string = dateTimer.getSeconds();\n  M = M >= 10 ? M : \"0\" + M;\n  D = D >= 10 ? D : \"0\" + D;\n  h = h >= 10 ? h : \"0\" + h;\n  m = m >= 10 ? m : \"0\" + m;\n  s = s >= 10 ? s : \"0\" + s;\n\n  return hasHours\n    ? `${Y + separator + M + separator + D} ${h}:${m}:${s}`\n    : `${Y + separator + M + separator + D}`;\n};\n\nexport default formatDate;\n","interface CallBack {\n  (\n    dir: {\n      startX?: number;\n      startY?: number;\n      endX?: number;\n      endY?: number;\n    },\n    real: {\n      realX?: number;\n      realY?: number;\n    }\n  ): void;\n}\n/**\n * 判断在屏幕上滑动的方向，允许在任意盒子中滑动，移动过程中实时返回当前X/Y坐标，接收回调函数，返回起始位置和结束位置的X/Y坐标值对象，支持 PC 和移动端。\n * @param selector 指定在某个元素上滑动，传入其标签名或 class 或 id，请确保使用唯一标识\n * @param cb 回调函数，第一个参数为滑动结束时包含起始位置和结束位置的X/Y坐标值对象\n * @param realXY 滑动/移动过程是否实时返回当前X/Y坐标，开启后回调函数中支持第二个参数接收实时坐标对象，默认：false\n * @param realStartEndXY 实时返回当前X/Y坐标后，同时是否实时返回起始位置和结束位置的X/Y坐标值对象，默认：false，返回空对象\n * @example\n * ```js\n * slideDirection('#box', (dir, real) => console.log(dir), true, false) // {startX: 54, startY: 82, endX: 54, endY: 82}\n * ```\n */\nconst slideDirection = (\n  selector: string | HTMLDivElement,\n  cb: CallBack,\n  realXY = false,\n  realStartEndXY = false\n) => {\n  let startX = 0,\n    startY = 0,\n    endX = 0,\n    endY = 0,\n    realX = 0,\n    realY = 0,\n    el =\n      typeof selector === \"string\"\n        ? (document.querySelector(`${selector}`) as HTMLElement)\n        : selector;\n  if (el === null) {\n    throw new Error(`${selector}无法查找到元素`);\n  }\n  if (el.ontouchstart === null) {\n    el.ontouchstart = function (e) {\n      endX = endY = realX = realY = 0;\n      startX = e.changedTouches[0].clientX;\n      startY = e.changedTouches[0].clientY;\n    };\n    realXY &&\n      (el.ontouchmove = function (e) {\n        realX = e.changedTouches[0].clientX;\n        realY = e.changedTouches[0].clientY;\n        cb(\n          realStartEndXY\n            ? {\n                startX,\n                startY,\n                endX,\n                endY,\n              }\n            : {},\n          {\n            realX,\n            realY,\n          }\n        );\n      });\n    el.ontouchend = function (e) {\n      endX = e.changedTouches[0].clientX;\n      endY = e.changedTouches[0].clientY;\n      cb(\n        {\n          startX,\n          startY,\n          endX,\n          endY,\n        },\n        {\n          realX,\n          realY,\n        }\n      );\n    };\n  } else {\n    el.onmousedown = function (e) {\n      endX = endY = realX = realY = 0;\n      startX = e.clientX;\n      startY = e.clientY;\n      realXY &&\n        (el.onmousemove = function (e) {\n          realX = e.clientX;\n          realY = e.clientY;\n          cb(\n            realStartEndXY\n              ? {\n                  startX,\n                  startY,\n                  endX,\n                  endY,\n                }\n              : {},\n            {\n              realX,\n              realY,\n            }\n          );\n        });\n    };\n    document.onmouseup = function (e) {\n      if (el.onmousemove === null) return;\n      endX = e.clientX;\n      endY = e.clientY;\n      el.onmousemove = null;\n      cb(\n        {\n          startX,\n          startY,\n          endX,\n          endY,\n        },\n        {\n          realX,\n          realY,\n        }\n      );\n    };\n  }\n};\n\nexport default slideDirection;","/**\n * 盒子锚点，在任意可滑动盒子中跳转；监听事件元素需指定 data-jt-id 值为目标元素唯一标识 id\n * @param options\n * 1、source：监听点击事件元素（或其父级）选择器，请确保唯一(①选择器带元素名（如：button#search）则监听其内部最深层的元素（理论情况，既实际点击到的元素），该元素须添加 data-jt-id 属性，属性值为目标容器内目标对象的 id（该目标对象须指定 data-jt-type 的值为 'jt'，以配合 callback 工作）。②选择器不带元素名（如：#search）则只监听此元素点击事件，data-jt-id 属性须绑定在此元素上。)；\n * 2、target：目标可滚动容器的选择器，请确保唯一，容器内的目标对象 id 值为对应的 data-jt-id 值（该目标对象须指定 data-jt-type 的值为 'jt'，以配合 callback 工作）；\n * 3、diff：滑动到与父元素的顶部距离差，默认值：4；\n * 4、speed：滑动速度，默认值：20。\n * @param callback 指定回调函数后，函数将在滚动过程定点执行，函数参数默认返回一个对象，包含此时在可视屏幕内指定 data-jt-id 属性的元素和该元素的 data-jt-id 属性值（须目标容器中目标对象指定 data-jt-type 的值为 'jt'）。\n * @example\n * ```js\n * <div id=\"source-box\"><a data-jt-id=\"h1\">锚点到h1</a></div>\n * <div id=\"target-box\"><h4 id=\"h1\" data-jt-type=\"jt\">我的id是h1</h4></div>\n * boxAnchor({source: 'div#source-box', target: '#target-box'}, (res) => {})\n * ```\n */\nconst boxAnchor = (\n  options: { source: string; target: string; diff?: number; speed?: number },\n  callback: (res: { el: HTMLElement; jtId: string }) => void\n) => {\n  var source = document.querySelector(options.source) as HTMLElement,\n    box = document.querySelector(options.target) as HTMLElement,\n    boxChildren = Array.from(box?.children || []).filter(\n      (v: any) => v.dataset.jtType === \"jt\"\n    ),\n    V: HTMLElement,\n    arr: Element[] | null = null;\n  source.onclick = function (e) {\n    var id =\n      \"#\" +\n      (/^[.|#]/.test(options.source)\n        ? (this as HTMLElement).dataset.jtId\n        : (e.target as HTMLElement).dataset.jtId);\n    var target = document.querySelector(id) as HTMLElement;\n    if (!target) return;\n    var diff = options.diff ? options.diff : 0;\n    var speed = options.speed ? options.speed : 10;\n    var targetHeight = parseFloat(getComputedStyle(target).height);\n    var flag = box.scrollTop >= target.offsetTop - targetHeight - diff;\n    (function jMove() {\n      if (flag) {\n        if (\n          box.scrollTop > target.offsetTop - targetHeight - diff &&\n          box.scrollTop !== 0\n        ) {\n          box.scrollTo(0, box.scrollTop - speed);\n          requestAnimationFrame(jMove);\n        }\n      } else {\n        if (\n          target.offsetTop - targetHeight - diff - box.scrollTop > speed &&\n          box.scrollTop + box.offsetHeight < box.scrollHeight - speed\n        ) {\n          box.scrollTo(0, box.scrollTop + speed);\n          requestAnimationFrame(jMove);\n        }\n      }\n    })();\n    return false;\n  };\n  typeof callback === \"function\" &&\n    box.addEventListener(\"scroll\", function () {\n      boxChildren.map((v: any) => {\n        if (v !== V) {\n          V = v;\n          v.distance = Math.abs(v.offsetTop - box.scrollTop);\n        }\n      });\n      const tmp = boxChildren.sort((p: any, n: any) => p.distance - n.distance);\n      if (!arr || arr[0].id !== tmp[0].id) {\n        arr = tmp.slice();\n        callback({\n          el: tmp[0] as HTMLElement,\n          jtId: tmp[0].id,\n        });\n      }\n    });\n};\n\nexport default boxAnchor;\n","/**\n * 指定页面滑动到某个位置，自定义滑动速度/滑动方向。须整个页面可滑动\n * @param opts anchor：滑动到的目标位置；speed：滑动速度；down：向下滑动？向下（true）/向上（false），默认：true\n * @example\n * ```js\n * pageAnchor(100, 10, true)\n * ```\n */\nconst pageAnchor = (opts?: {\n  anchor?: number;\n  speed?: number;\n  down?: boolean;\n}) => {\n  var anchor = opts?.anchor || 0,\n    speed = opts?.speed || 10,\n    down = opts?.down === undefined ? true : Boolean(opts.down);\n  (function foo() {\n    if (down) {\n      if (scrollY < anchor) {\n        var scrollTop =\n            document.documentElement.scrollTop || document.body.scrollTop,\n          clientHeight =\n            document.documentElement.clientHeight || document.body.clientHeight,\n          scrollHeight =\n            document.documentElement.scrollHeight || document.body.scrollHeight;\n        if (\n          scrollHeight > clientHeight &&\n          scrollTop + clientHeight < scrollHeight\n        ) {\n          scrollTo(0, scrollY + speed);\n          requestAnimationFrame(foo);\n        }\n      }\n    } else {\n      if (scrollY > anchor) {\n        scrollTo(0, scrollY - speed);\n        requestAnimationFrame(foo);\n      }\n    }\n  })();\n};\n\nexport default pageAnchor;\n","/**\n * 滚动至底部时，加载更多数据，或执行一些自定义的事件。返回函数清除绑定\n * @param opts ①el：需要无限滚动元素的选择器，请确保唯一；②delay：节流时延，单位为ms，默认值100；③distance：触发加载的距离阈值，单位为px，默认值10。\n * @param callback 到达距离阈值时触发的事件\n * @returns unbind 返回一个可清除绑定滚动事件的函数。\n * @example\n * ```js\n * infiniteScroll({el: '.big-box', delay: 100, distance: 10 }, () => { console.log('hello') }))\n * ```\n */\nconst infiniteScroll = (\n  opts: { el: string; delay?: number; distance?: number },\n  callback: () => void\n) => {\n  var box = document.querySelector(opts.el) as HTMLElement;\n  var delay = opts.delay || 100,\n    distance = opts.distance || 10,\n    timer: NodeJS.Timeout,\n    flag = true;\n  var unbind = () => {\n    box.onscroll = null;\n  };\n  box.onscroll = function () {\n    if (flag) {\n      var boxHeight = parseFloat(getComputedStyle(box).height),\n        boxScrollHeight = box.scrollHeight,\n        boxScrollTop = box.scrollTop;\n      flag = false;\n      timer = setTimeout(function () {\n        flag = true;\n      }, delay);\n      if (boxScrollHeight - boxScrollTop - boxHeight < distance) {\n        callback();\n      }\n    }\n  };\n  return unbind;\n};\n\nexport default infiniteScroll;\n","/**\n * 自适应等比缩放。适用大屏可视化自动适配屏幕\n * @param targetEl 需要去适应的（父级）盒子, 将元素等比例缩放撑满盒子（进入全屏状态的元素应该是父级盒子）。\n * @param sourceEl 需要被缩放的元素，它会自适应父级盒子。\n * @param designSize 设计稿尺寸，如：1920x1080，则传入[1920,1080]。\n * @example\n * ```js\n * adaptiveScaling(HTMLElement, HTMLElement, [1920, 1080])\n * ```\n */\nconst adaptiveScaling = (\n  targetEl: HTMLElement,\n  sourceEl: HTMLElement,\n  designSize: number[]\n) => {\n  const [designW, designH] = designSize;\n  const targetWidth = targetEl.clientWidth;\n  // const targetHeight = targetEl.clientHeight;\n  // 盒子尺寸比\n  // const realRatio = targetWidth / targetHeight;\n  // 设计稿比例\n  // const designRatio = designW / designH;\n  // 缩放率\n  let scaleRate = targetWidth / designW;\n  // 如果是竖屏，按高缩放\n  // if (realRatio.toFixed(1) > designRatio.toFixed(1)) {\n  //   scaleRate = targetHeight / designH;\n  // }\n  sourceEl.style.transformOrigin = \"left top\";\n  sourceEl.style.transform = `scale(${scaleRate})`;\n  // sourceEl.style.width = `${targetWidth / scaleRate}px`;\n};\n\nexport default adaptiveScaling;\n"],"names":[],"mappings":"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"}